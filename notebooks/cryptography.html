

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Cryptography &#8212; An Introduction to Information Theory for Social Neuroscientists</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/cryptography';</script>
    <link rel="shortcut icon" href="../_static/soc_net.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Networks in Social Media" href="networks-in-social-media.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/soc_net.png" class="logo__image only-light" alt="An Introduction to Information Theory for Social Neuroscientists - Home"/>
    <script>document.write(`<img src="../_static/soc_net.png" class="logo__image only-dark" alt="An Introduction to Information Theory for Social Neuroscientists - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markov-properties.html">Markov Chains &amp; Markov Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-theory.html">Network/Graph Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex-systems.html">Complex Systems Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="networks-in-social-media.html">Networks in Social Media</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Cryptography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/cosanlab/info-theory-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/cosanlab/info-theory-book/issues/new?title=Issue%20on%20page%20%2Fnotebooks/cryptography.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/cryptography.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Cryptography</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-cell-below-to-download-data-and-prepare-our-environment">Run the cell below to download data and prepare our environment!</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="cryptography">
<h1>Cryptography<a class="headerlink" href="#cryptography" title="Permalink to this heading">#</a></h1>
<p><strong>Why cryptography?</strong></p>
<ul class="simple">
<li><p>Cryptographic analysis provides distinct advantages over some more en vogue comp neuro methods, like deep learning</p>
<ul>
<li><p>It sits at a crucial point between supervised and unsupervised learning: you don’t need training labels, but you also pull on pre-existing knowledge about the structure of information in the world</p></li>
</ul>
</li>
<li><p>Cryptographic analysis centers on using the underlying non-uniform distribution of data in the world to decode information</p>
<ul>
<li><p>This is something humans naturally do to learn – e.g. children use morpheme co-ocurance-rates to learn language</p></li>
<li><p>On a similar note, human adults are able to remember larger numbers of social relationships when they exhibit properties that make them representable in a lower number of bits</p></li>
</ul>
</li>
</ul>
<p><strong>What will we cover in this notebook?</strong></p>
<ul class="simple">
<li><p>A hands-on example of using cryptographic analysis to break a substitution cipher in English</p></li>
</ul>
<section id="run-the-cell-below-to-download-data-and-prepare-our-environment">
<h2>Run the cell below to download data and prepare our environment!<a class="headerlink" href="#run-the-cell-below-to-download-data-and-prepare-our-environment" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#file imports</span>
<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">words</span> <span class="k">as</span> <span class="n">wordlist</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="c1">#set random seed and download corpora</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PYTHONHASHSEED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;words&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;gutenberg&#39;</span><span class="p">)</span>

<span class="c1">#make sure the display fits the width of the page</span>
<span class="k">def</span> <span class="nf">set_css</span><span class="p">():</span>
  <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  &lt;style&gt;</span>
<span class="s1">    pre {</span>
<span class="s1">        white-space: pre-wrap;</span>
<span class="s1">    }</span>
<span class="s1">  &lt;/style&gt;</span>
<span class="s1">  &#39;&#39;&#39;</span><span class="p">))</span>
<span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;pre_run_cell&#39;</span><span class="p">,</span> <span class="n">set_css</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_letter_distribution</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">zipfian</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
  <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-z]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
  <span class="n">letter_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">zipfian</span><span class="p">:</span>
      <span class="n">letters</span><span class="p">,</span> <span class="n">vals</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">letter_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">())</span>
      <span class="n">letters</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
      <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
      <span class="n">vals</span> <span class="o">/=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
      <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">vals</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">letter_counts</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">letter_counts</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;letter&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;percentage of all letters&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">letter_counts</span>

<span class="n">alphabet</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">)</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)</span>
<span class="n">cipher</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">alphabet</span><span class="p">),</span> <span class="n">alphabet</span><span class="p">))</span>
<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet</span><span class="p">:</span>
  <span class="n">cipher</span><span class="p">[</span><span class="n">letter</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="n">cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="n">original_quote</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">raw</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">fileids</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">encrypted_quote</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">original_quote</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">cipher</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">encrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">])</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">encrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">decrypt</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">):</span>
  <span class="n">unencrypted_quote</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
  <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">encrypted_quote</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">reverse_cipher</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
      <span class="n">unencrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">unencrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">unencrypted_quote</span>

<span class="k">def</span> <span class="nf">fix_single_letter_words</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">):</span>
  <span class="n">single_letter_words</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z ]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encrypted_quote</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">single_letter_words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
  <span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">count1</span><span class="p">),</span> <span class="p">(</span><span class="n">second</span><span class="p">,</span> <span class="n">count2</span><span class="p">)</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">single_letter_words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  
  <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">first</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">reverse_cipher</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
      <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span>
        <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">first</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span>
        <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">first</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">first</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span>
    <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">first</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
  <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">second</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">reverse_cipher</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
      <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
        <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">second</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span>
        <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">second</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">second</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
    <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">second</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="s1">&#39;I&#39;</span>
  <span class="k">return</span> <span class="n">reverse_cipher</span>

<span class="n">english</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">wordlist</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">get_percent_real</span><span class="p">(</span><span class="n">recovered</span><span class="p">):</span>
  <span class="n">english</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">wordlist</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
  <span class="n">reals</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="ow">in</span> <span class="n">english</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z ]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">recovered</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
  <span class="n">percent_real</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">percent_real</span>

<span class="kn">import</span> <span class="nn">copy</span>
<span class="k">def</span> <span class="nf">swap_keys</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">):</span> 
  <span class="n">updated</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">)</span>
  <span class="n">L1V</span><span class="p">,</span> <span class="n">L2V</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L1</span><span class="p">],</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L2</span><span class="p">]</span>
  <span class="n">updated</span><span class="p">[</span><span class="n">L1</span><span class="p">],</span> <span class="n">updated</span><span class="p">[</span><span class="n">L2</span><span class="p">]</span> <span class="o">=</span> <span class="n">L2V</span><span class="p">,</span> <span class="n">L1V</span>
  <span class="n">updated</span><span class="p">[</span><span class="n">L1</span><span class="o">.</span><span class="n">upper</span><span class="p">()],</span> <span class="n">updated</span><span class="p">[</span><span class="n">L2</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="n">L2V</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">L1V</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">updated</span>

<span class="k">def</span> <span class="nf">swap_keys_inplace</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">):</span> 
  <span class="n">L1V</span><span class="p">,</span> <span class="n">L2V</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L1</span><span class="p">],</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L2</span><span class="p">]</span>
  <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L1</span><span class="p">],</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L2</span><span class="p">]</span> <span class="o">=</span> <span class="n">L2V</span><span class="p">,</span> <span class="n">L1V</span>
  <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L1</span><span class="o">.</span><span class="n">upper</span><span class="p">()],</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">L2</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="n">L2V</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">L1V</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">improve_deciphering</span><span class="p">(</span><span class="n">second_pass</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">percent_real_before</span><span class="p">):</span>
  <span class="n">english</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">wordlist</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
  <span class="n">c</span> <span class="o">=</span> <span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">second_pass</span><span class="p">)</span>
  <span class="n">dists</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">26</span><span class="p">,</span><span class="mi">26</span><span class="p">))</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">26</span><span class="p">):</span>
      <span class="n">dists</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">alphabet</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">-</span> <span class="n">c</span><span class="p">[</span><span class="n">alphabet</span><span class="p">[</span><span class="n">j</span><span class="p">]])</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
  <span class="n">percent_real</span> <span class="o">=</span> <span class="n">percent_real_before</span>
  <span class="n">indeces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">dists</span><span class="o">.</span><span class="n">flatten</span><span class="p">())</span>
  <span class="k">while</span> <span class="n">percent_real</span> <span class="o">&lt;</span> <span class="mf">0.81</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indeces</span><span class="p">:</span>
      <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">26</span><span class="p">))</span>
      <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
      <span class="n">updated</span> <span class="o">=</span> <span class="n">swap_keys</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">)</span>
      <span class="n">unencrypted_quote</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
      <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">encrypted_quote</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">updated</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
          <span class="n">unencrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">updated</span><span class="p">[</span><span class="n">letter</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">unencrypted_quote</span><span class="o">+=</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
      <span class="n">reals</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="ow">in</span> <span class="n">english</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z ]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">unencrypted_quote</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
      <span class="n">percent_real</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">percent_real</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">percent_real</span> <span class="o">&gt;</span> <span class="n">percent_real_before</span><span class="o">+</span><span class="p">(</span><span class="mf">0.82</span><span class="o">-</span><span class="n">percent_real_before</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">percent_real</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">L2</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z ]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">unencrypted_quote</span><span class="o">.</span><span class="n">lower</span><span class="p">())[</span><span class="mi">35</span><span class="p">:</span><span class="mi">776</span><span class="p">])</span>
        <span class="n">swap_keys_inplace</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">)</span>
        <span class="n">percent_real_before</span> <span class="o">=</span> <span class="n">percent_real</span>
        <span class="k">break</span>
    <span class="k">return</span> <span class="n">reverse_cipher</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package words to /home/runner/nltk_data...
[nltk_data]   Unzipping corpora/words.zip.
[nltk_data] Downloading package gutenberg to /home/runner/nltk_data...
[nltk_data]   Unzipping corpora/gutenberg.zip.
</pre></div>
</div>
</div>
</div>
<p>Let’s use some cryptanalysis to solve a letter subtitution cipher. The text below is a passage from a classic novel in which each letter has been replaced with another letter from the English alphabet, with unique pairings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">[</span><span class="mi">35</span><span class="p">:</span><span class="mi">776</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Buwtsfh 1


Gmh Lwvsfh Fvvmcs, cx Dfvvojbu Uwvv, mj Gckfhgfsgumhf, lwg w kwj luc,
xch umg clj wkygfkfjs, jfrfh sccd yt wjo qccd qys suf Qwhcjfswif;
sufhf uf xcyjz cbbytwsmcj xch wj mzvf ucyh, wjz bcjgcvwsmcj mj w
zmgshfggfz cjf; sufhf umg xwbyvsmfg lfhf hcygfz mjsc wzkmhwsmcj wjz
hfgtfbs, qo bcjsfktvwsmji suf vmkmsfz hfkjwjs cx suf fwhvmfgs twsfjsg;
sufhf wjo yjlfvbckf gfjgwsmcjg, whmgmji xhck zckfgsmb wxxwmhg
buwjifz jwsyhwvvo mjsc tmso wjz bcjsfkts wg uf syhjfz crfh
suf wvkcgs fjzvfgg bhfwsmcjg cx suf vwgs bfjsyho; wjz sufhf,
mx frfho csufh vfwx lfhf tclfhvfgg, uf bcyvz hfwz umg clj umgscho
lmsu wj mjsfhfgs lumbu jfrfh xwmvfz.  Sumg lwg suf twif ws lumbu
suf xwrcyhmsf rcvykf wvlwog ctfjfz:

           &quot;FVVMCS CX DFVVOJBU UWVV.

&quot;
</pre></div>
</div>
</div>
</div>
<p>If we wanted to decrypt this, we could try a few approaches. We could brute force it, trying every single possible combination of unique letter replacement pairs. This comes out to <span class="math notranslate nohighlight">\(26! = 4.03e^{26}\)</span> potential combinations, which would take a prohibitively long time to run.
<br><br>
A more fruitful aproach might be to use the underlying statistics of the English language to help us seed this process with educated guesses. Let’s take a look at how often particular letters show up in English text (as approximated by a collection of classic novels from Project Gutenberg).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fileid</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">fileids</span><span class="p">()[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]:</span>
  <span class="n">words</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-z]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">raw</span><span class="p">(</span><span class="n">fileid</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
  <span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">fileid</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><img alt="../_images/186eda17312f536efd6eeb51580141c6a9d48de031a7969b4cbbcfb7304ee4a9.png" src="../_images/186eda17312f536efd6eeb51580141c6a9d48de031a7969b4cbbcfb7304ee4a9.png" />
<img alt="../_images/124783abe30f1a45c8f6b6b43a0a1c658e7d14d3cf2a114a6e4f88c2eb3c6b1e.png" src="../_images/124783abe30f1a45c8f6b6b43a0a1c658e7d14d3cf2a114a6e4f88c2eb3c6b1e.png" />
<img alt="../_images/64494d1c0e8f25e7e06c356f7611e26701ad598bc95087ceffac11cb288a3025.png" src="../_images/64494d1c0e8f25e7e06c356f7611e26701ad598bc95087ceffac11cb288a3025.png" />
</div>
</div>
<p>From the above distributions, you can see that some letters are used consistently more frequently than others across these texts. Let’s take a look at the distribution defined be the average of all of these texts:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">fileid</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">fileids</span><span class="p">():</span>
  <span class="n">words</span> <span class="o">+=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-z]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">raw</span><span class="p">(</span><span class="n">fileid</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Averaged Distribution&#39;</span><span class="p">);</span>
<span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Averaged Distribution; Re-Ordered&#39;</span><span class="p">,</span> <span class="n">zipfian</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><img alt="../_images/cabb233f57119d26a501441041566317785455a35b24f25a26f4a0789586343f.png" src="../_images/cabb233f57119d26a501441041566317785455a35b24f25a26f4a0789586343f.png" />
<img alt="../_images/8f0de5ed877c593cb53833a58cf6186c57ba2d3b28729a24d833553e67e00f02.png" src="../_images/8f0de5ed877c593cb53833a58cf6186c57ba2d3b28729a24d833553e67e00f02.png" />
</div>
</div>
<p>With this knowledge about expected patterns of letter occurances, let’s see how they compare to the statistics of our encrypted text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Encrypted Distribution&#39;</span><span class="p">);</span>
<span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Encrypted Distribution; Re-Ordered&#39;</span><span class="p">,</span> <span class="n">zipfian</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><img alt="../_images/0eedafd48be3cf1ffdf359b7128c0ef150d6d62f02ec01f867d4570c4586566c.png" src="../_images/0eedafd48be3cf1ffdf359b7128c0ef150d6d62f02ec01f867d4570c4586566c.png" />
<img alt="../_images/06b0e64495e11b35d0607e10672e296106bb2410318b18ca83ed9fdb459b1f47.png" src="../_images/06b0e64495e11b35d0607e10672e296106bb2410318b18ca83ed9fdb459b1f47.png" />
</div>
</div>
<p>As the above distribution shows us, even though each individual letter in the encrypted text no longer has the same occurance probability as it does in typical English text, the general shape of the re-ordered distribution is still the same. We can use this to build a first-pass remapping to attempt deciphering the encrypted text, substituting each encrypted letter with the English letter closest in usage frequency.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">quote_dist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Counter</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-z]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encrypted_quote</span><span class="o">.</span><span class="n">lower</span><span class="p">()))</span><span class="o">.</span><span class="n">most_common</span><span class="p">()))</span>
<span class="n">english_dist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Counter</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-z]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">words</span><span class="o">.</span><span class="n">lower</span><span class="p">()))</span><span class="o">.</span><span class="n">most_common</span><span class="p">()))</span>
<span class="n">reverse_cipher</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">quote_dist</span><span class="p">,</span> <span class="n">english_dist</span><span class="p">))</span>
<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet</span><span class="p">:</span>
  <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="n">reverse_cipher</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_pass</span> <span class="o">=</span> <span class="n">decrypt</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_pass</span><span class="p">[</span><span class="mi">35</span><span class="p">:</span><span class="mi">776</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fiabter 1


Snr Wadter Eddnot, oc Keddyhfi Iadd, nh Somersetsinre, was a mah wio,
cor ins owh amusemeht, hever took ub ahy pook put tie Parohetage;
tiere ie couhl offubatnoh cor ah nlde iour, ahl fohsodatnoh nh a
lnstressel ohe; tiere ins cafudtnes were rousel nhto almnratnoh ahl
resbeft, py fohtembdatnhg tie dnmntel remhaht oc tie eardnest batehts;
tiere ahy uhwedfome sehsatnohs, arnsnhg crom lomestnf accanrs
fiahgel haturaddy nhto bnty ahl fohtembt as ie turhel over
tie admost ehldess freatnohs oc tie dast fehtury; ahl tiere,
nc every otier deac were bowerdess, ie foudl real ins owh instory
wnti ah nhterest winfi hever candel.  Tins was tie bage at winfi
tie cavournte vodume adways obehel:

           &quot;EDDNOT OC KEDDYHFI IADD.

&quot;
</pre></div>
</div>
</div>
</div>
<p>While our first pass definitely gets us closer to the original text, it’s not quite good enough (unless you, like yours truly, happen to be both a Jane Austen fan and one accustomed to reading through heavy mispellings).
<br><br>
At this point, we’ll want to use some basic facts about English to help us out. For example, we want to make sure that any single-letter words are either assigned to A or I.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reverse_cipher</span> <span class="o">=</span> <span class="n">fix_single_letter_words</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">)</span>
<span class="n">second_pass</span> <span class="o">=</span> <span class="n">decrypt</span><span class="p">(</span><span class="n">encrypted_quote</span><span class="p">,</span> <span class="n">reverse_cipher</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">second_pass</span><span class="p">[</span><span class="mi">35</span><span class="p">:</span><span class="mi">776</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fnabter 1


Sir Wadter Eddiot, oc Keddyhfn Nadd, ih Somersetsnire, was a mah wno,
cor nis owh amusemeht, hever took ub ahy pook put tne Parohetage;
tnere ne couhl offubatioh cor ah ilde nour, ahl fohsodatioh ih a
listressel ohe; tnere nis cafudties were rousel ihto almiratioh ahl
resbeft, py fohtembdatihg tne dimitel remhaht oc tne eardiest batehts;
tnere ahy uhwedfome sehsatiohs, arisihg crom lomestif accairs
fnahgel haturaddy ihto bity ahl fohtembt as ne turhel over
tne admost ehldess freatiohs oc tne dast fehtury; ahl tnere,
ic every otner deac were bowerdess, ne foudl real nis owh nistory
witn ah ihterest wnifn hever caidel.  Tnis was tne bage at wnifn
tne cavourite vodume adways obehel:

           &quot;EDDIOT OC KEDDYHFN NADD.

&quot;
</pre></div>
</div>
</div>
</div>
<p>Intuitively, this text feels closer to English text than the previous two. But at this point, we might decide that we want a better metric to determine closeness to the original text than our gut feeling of what looks better.
<br><br>
As we go through the decrypted text (which is significantly larger than the single-paragraph sample displayed above), we can use a cannonical list of English words, then check what percentage of the words in our recovered text are true English words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">percent_real_before</span> <span class="o">=</span> <span class="n">get_percent_real</span><span class="p">(</span><span class="n">second_pass</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">percent_real_before</span><span class="p">,</span><span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f recovered words were valid English&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.29535548269005385 % of recovered words were valid English
</pre></div>
</div>
</div>
</div>
<p>We can definitely do better than 30% – in fact, the original text contains 81.7% accepted English words. In order to improve our decryption, we’ll try swapping out letter mappings for letters that have the most similar probabilities in English (i.e. R and S both constitute approximately 7.2% of letters used in this corpus). If the percentage of accepted English words improves by making a substitution, we keep it. Let’s watch this technique at work. <em>N.B. This make take a few minutes; feel free to make a nice cup of tea while the next cell runs!</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">get_letter_distribution</span><span class="p">(</span><span class="n">second_pass</span><span class="p">)</span>
<span class="n">dists</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">26</span><span class="p">,</span><span class="mi">26</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">26</span><span class="p">):</span>
    <span class="n">dists</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">alphabet</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">-</span> <span class="n">c</span><span class="p">[</span><span class="n">alphabet</span><span class="p">[</span><span class="n">j</span><span class="p">]])</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">percent_real</span> <span class="o">=</span> <span class="n">percent_real_before</span>
<span class="n">indeces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">dists</span><span class="o">.</span><span class="n">flatten</span><span class="p">())</span>
<span class="k">while</span> <span class="n">percent_real</span> <span class="o">&lt;</span> <span class="mf">0.81</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indeces</span><span class="p">:</span>
    <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">26</span><span class="p">))</span>
    <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="n">updated</span> <span class="o">=</span> <span class="n">swap_keys</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">)</span>
    <span class="n">unencrypted_quote</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">encrypted_quote</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">updated</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">unencrypted_quote</span> <span class="o">+=</span> <span class="p">(</span><span class="n">updated</span><span class="p">[</span><span class="n">letter</span><span class="p">])</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">unencrypted_quote</span> <span class="o">+=</span> <span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="n">reals</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="ow">in</span> <span class="n">english</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z ]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">unencrypted_quote</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
    <span class="n">percent_real</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">reals</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">percent_real</span> <span class="o">&gt;</span> <span class="n">percent_real_before</span><span class="o">+</span><span class="p">(</span><span class="mf">0.82</span><span class="o">-</span><span class="n">percent_real_before</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;swap&#39;</span><span class="p">,</span> <span class="n">L1</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span><span class="n">L2</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">percent valid English words:&#39;</span><span class="p">,</span> <span class="n">percent_real</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
      <span class="c1"># print(re.sub(r&#39;[^a-zA-Z ]&#39;, &#39;&#39;, unencrypted_quote.lower())[35:776])</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">unencrypted_quote</span><span class="p">[</span><span class="mi">35</span><span class="p">:</span><span class="mi">776</span><span class="p">])</span>
      <span class="n">swap_keys_inplace</span><span class="p">(</span><span class="n">reverse_cipher</span><span class="p">,</span> <span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">)</span>
      <span class="n">percent_real_before</span> <span class="o">=</span> <span class="n">percent_real</span>
      <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <style>
    pre {
        white-space: pre-wrap;
    }
  </style>
  </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>swap U and J 	percent valid English words: 0.5160721105097512 


Fhabter 1


Sir Wadter Eddiot, oc Keddynfh Hadd, in Somersetshire, was a man who,
cor his own amusement, never took ub any pook put the Paronetage;
there he counl offubation cor an ilde hour, anl fonsodation in a
listressel one; there his cafudties were rousel into almiration anl
resbeft, py fontembdating the dimitel remnant oc the eardiest batents;
there any unwedfome sensations, arising crom lomestif accairs
fhangel naturaddy into bity anl fontembt as he turnel over
the admost enldess freations oc the dast fentury; anl there,
ic every other deac were bowerdess, he foudl real his own history
with an interest whifh never caidel.  This was the bage at whifh
the cavourite vodume adways obenel:

           &quot;EDDIOT OC KEDDYNFH HADD.

&quot;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>swap Z and V 	percent valid English words: 0.6301505155453719 


Fhabter 1


Sir Walter Elliot, oc Kellynfh Hall, in Somersetshire, was a man who,
cor his own amusement, never took ub any pook put the Paronetage;
there he cound offubation cor an idle hour, and fonsolation in a
distressed one; there his cafulties were roused into admiration and
resbeft, py fontemblating the limited remnant oc the earliest batents;
there any unwelfome sensations, arising crom domestif accairs
fhanged naturally into bity and fontembt as he turned over
the almost endless freations oc the last fentury; and there,
ic every other leac were bowerless, he fould read his own history
with an interest whifh never cailed.  This was the bage at whifh
the cavourite volume always obened:

           &quot;ELLIOT OC KELLYNFH HALL.

&quot;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>swap B and X 	percent valid English words: 0.7351821857016816 


Chabter 1


Sir Walter Elliot, of Kellynch Hall, in Somersetshire, was a man who,
for his own amusement, never took ub any pook put the Paronetage;
there he found occubation for an idle hour, and consolation in a
distressed one; there his faculties were roused into admiration and
resbect, py contemblating the limited remnant of the earliest batents;
there any unwelcome sensations, arising from domestic affairs
changed naturally into bity and contembt as he turned over
the almost endless creations of the last century; and there,
if every other leaf were bowerless, he could read his own history
with an interest which never failed.  This was the bage at which
the favourite volume always obened:

           &quot;ELLIOT OF KELLYNCH HALL.

&quot;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>swap Q and T 	percent valid English words: 0.8056729743610003 


Chapter 1


Sir Walter Elliot, of Kellynch Hall, in Somersetshire, was a man who,
for his own amusement, never took up any book but the Baronetage;
there he found occupation for an idle hour, and consolation in a
distressed one; there his faculties were roused into admiration and
respect, by contemplating the limited remnant of the earliest patents;
there any unwelcome sensations, arising from domestic affairs
changed naturally into pity and contempt as he turned over
the almost endless creations of the last century; and there,
if every other leaf were powerless, he could read his own history
with an interest which never failed.  This was the page at which
the favourite volume always opened:

           &quot;ELLIOT OF KELLYNCH HALL.

&quot;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>swap E and N 	percent valid English words: 0.8100317359986304 


Chapter 1


Sir Walter Elliot, of Kellynch Hall, in Somersetshire, was a man who,
for his own amusement, never took up any book but the Baronetage;
there he found occupation for an idle hour, and consolation in a
distressed one; there his faculties were roused into admiration and
respect, by contemplating the limited remnant of the earliest patents;
there any unwelcome sensations, arising from domestic affairs
changed naturally into pity and contempt as he turned over
the almost endless creations of the last century; and there,
if every other leaf were powerless, he could read his own history
with an interest which never failed.  This was the page at which
the favourite volume always opened:

           &quot;ELLIOT OF KELLYNCH HALL.

&quot;
</pre></div>
</div>
</div>
</div>
<p>And here we find outselves with the fully recovered opening paragraph of Jane Austen’s timeless classic <em>Persuasion</em>, decrypted in a computationally feasible timeframe, based solely on our pre-existing knowledge of how frequently different letters are used in the English language.
<br><br>
Now that you (hopefully!) have a stronger intuition for frequency-based decryption techniques, my recommended reading is <a class="reference external" href="https://www.nature.com/articles/s41551-017-0169-7">A cryptography-based approach for movement decoding</a> from Eva Dyer and her colleagues in Konrad Kording’s lab, who used this frequency-based approach to decode motor activity from macaque neural recordings.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="networks-in-social-media.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Networks in Social Media</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-cell-below-to-download-data-and-prepare-our-environment">Run the cell below to download data and prepare our environment!</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dhaval Bhatt, Katie O'Nell, Sushmita Sadhukha, Wasita Mahaphanit (in alphabetical order by first name)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>